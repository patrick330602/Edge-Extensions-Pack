/*!
 * ---------------------------------------------------------
 * Copyright(C) Microsoft Corporation. All rights reserved.
 * ---------------------------------------------------------
 */
var telemetry=function(){var i=function(t,i,r){n("https://mousegesturesapi.chinacloudsites.cn/api/feedbacks","POST",t,i,r)},r=function(t){n("https://mousegesturesapi.chinacloudsites.cn/api/settings","POST",t)},u=function(t){n("https://mousegesturesapi.chinacloudsites.cn/api/dailyactiveusers","POST",t)},f=function(t,i){n("https://mousegesturesapi.chinacloudsites.cn/api/gestureresults","POST",t,i)},e=function(t){n("https://mousegesturesapi.chinacloudsites.cn/api/checknewversion","GET",null,t)},n=function(n,i,r,u,f){var e=new XMLHttpRequest;(u||f)&&(e.onreadystatechange=function(){e.readyState===XMLHttpRequest.DONE&&(e.status===200?u&&u(JSON.parse(e.responseText)):f&&f())});f&&(e.onerror=function(){f()},e.ontimeout=function(){f()});e.open(i,n);e.timeout=5e3;i==="POST"&&(e.setRequestHeader("Content-Type","application/json"),r.Version=t());e.send(JSON.stringify(r))},o=function(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()},s=function(n){chrome.storage.local.get("currentUserGuid",function(t){var i=null;t.currentUserGuid?i=t.currentUserGuid:(i=o(),chrome.storage.local.set({currentUserGuid:i}));n(i)})},t=function(){return"0.2.16.8501"};return{sendFeedback:i,sendSetting:r,sendDailyActiveUserState:u,sendGestureResult:f,checkNewVersion:e,getOrGenerateUserGuid:s,getCurrentVersion:t}}()