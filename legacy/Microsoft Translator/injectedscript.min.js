;window.browser!==undefined&&function(){function a(){var a=Object.defineProperties({},{runtime:{value:browser.runtime,configurable:!0,enumerable:!0},storage:{value:browser.storage,configurable:!0,enumerable:!0}});return Object.defineProperty(window,"chrome",{value:a,configurable:!0,enumerable:!0}),a}Object.defineProperty(window,"chrome",{get:a,configurable:!0,enumerable:!0})}()
;function typeOf(a){var b=typeof a;return b==="object"&&(a?Object.prototype.toString.call(a)=="[object Array]"&&(b="array"):b="null"),b}String.isNullOrWhiteSpace=String.isNullOrWhiteSpace||function(a){return a===undefined||a===null||typeof a!="string"||a.trim().length===0},String.htmlEscape=String.htmlEscape||function(a){if(!a)return"";var b=document.createElement("span");return b.innerText=a,b.innerHTML};var Logger=function(){return"use strict",{info:function(){var a=[];for(var b=0;b<arguments.length;b++)a[b-0]=arguments[b];console&&typeOf(console.info)==="function"&&Microsoft.JS.config.logLevel&Microsoft.JS.LogLevel.Info&&console.info.apply(console,a)},warning:function(){var a=[];for(var b=0;b<arguments.length;b++)a[b-0]=arguments[b];console&&typeOf(console.warn)==="function"&&Microsoft.JS.config.logLevel&Microsoft.JS.LogLevel.Warning&&console.warn.apply(console,a)},error:function(){var a=[];for(var b=0;b<arguments.length;b++)a[b-0]=arguments[b];console&&typeOf(console.error)==="function"&&Microsoft.JS.config.logLevel&Microsoft.JS.LogLevel.Error&&console.error.apply(console,a)},assert:function(a){var b=[];for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];console&&typeOf(console.assert)==="function"&&Microsoft.JS.config.logLevel&Microsoft.JS.LogLevel.Debug&&(b.unshift(a),console.assert.apply(console,b))},debug:function(){var a=[];for(var b=0;b<arguments.length;b++)a[b-0]=arguments[b];typeOf(console.debug)==="function"&&Microsoft.JS.config.logLevel&Microsoft.JS.LogLevel.Debug&&console.debug.apply(console,a)}}}(),Microsoft;(function(a){var b;(function(b){function d(a){switch(typeOf(a)){case"object":return JSON.stringify(a);case"null":return"null";case"undefined":return"undefined";case"array":return JSON.stringify(a);default:return a.toString()}}function h(a){var b="",c=0;if(a)for(var d in a)a.hasOwnProperty(d)&&(c++&&(b+="&"),b+=encodeURIComponent(d),a[d]!=null&&(b+="="+encodeURIComponent(a[d])));return b}function i(a,b,c,d){if(d.query){var e=h(d.query);e.length>0&&(b+=(b.indexOf("?")<0?"?":"&")+e)}typeOf(d.timeoutInMs)==="number"&&(a.timeout=d.timeoutInMs),a.open(f[c],b,!0);if(d.headers)for(var g in d.headers)d.headers.hasOwnProperty(g)&&a.setRequestHeader(g,d.headers[g]);d.contentType&&a.setRequestHeader("Content-Type",d.contentType)}function j(a,b,c){c=c||{};if(a==null||b==null)return Promise.reject(new g("HTTP method or URL are not set"));if(c.timeoutInMs!=null&&c.timeoutInMs<0)return Promise.reject(new g("Cannot have a negative timeout. Set to 0 to have no timeout"));var d=new Promise(function(d,e){var h=new XMLHttpRequest;i(h,b,a,c);var j=null;a!=f.GET&&a!=f.HEAD&&(j=c.body),h.send(j),h.onload=function(){if(h.status>=200&&h.status<300){var a=h.response;if(c.parser)try{a=c.parser(h)}catch(b){e(b);return}d(a)}else e(new g(h.statusText,h.status,h))},h.onerror=function(){var a=h.statusText||"Failed to send the request";e(new g(a,h.status,h))},h.ontimeout=function(){e(new g("Timed out",-1,h))},c.token&&c.token.addListener&&c.token.addListener(h.abort.bind(h))});return d}function k(a,b){return Logger.debug("Injecting '"+b+"' into tab "+a),new Promise(function(c,d){chrome.tabs.executeScript(a,{code:b},function(a){chrome.runtime.lastError?d(chrome.runtime.lastError):c(a)})})}function l(a,b){return Logger.debug("Injecting '"+b+"' into tab "+a),new Promise(function(c,d){chrome.tabs.executeScript(a,{file:b},function(a){chrome.runtime.lastError?d(chrome.runtime.lastError):c(a)})})}function m(b,c,d){var e=0,f=a.JS.config.scriptsToInject,g=function(a,b,c){return l(b,c)},h=k(b,'window.fromLang="'+c+'";window.toLang="'+d+'";');for(var e=0;e<f.length;e++)h=h.then(g.bind(null,null,b,f[e]));return h.catch(function(a){throw Logger.error("Failed to inject one or more of the scripts into the page",a),a})}function n(a){return k(a,"window.location.reload();")}"use strict",function(a){a[a.Off=0]="Off",a[a.Error=1]="Error",a[a.Warning=2]="Warning",a[a.Info=4]="Info",a[a.Debug=8]="Debug",a[a.Assert=16]="Assert",a[a.All=4294967295]="All"}(b.LogLevel||(b.LogLevel={}));var c=b.LogLevel;b.serialize=d;var e=function(){function a(a){var b=this;this._listeners=[],this._canceled=!1,typeof a=="number"&&a>0&&setTimeout(function(){b.cancel()},a)}return Object.defineProperty(a.prototype,"isCanceled",{get:function(){return this._canceled},enumerable:!0,configurable:!0}),a.prototype.throwIfCanceled=function(){if(this._canceled===!0)throw new Error("Operation was canceled")},a.prototype.addListener=function(a){if(typeOf(a)!=="function")return;this._listeners.push(a),this._canceled&&setTimeout(a,0)},a.prototype.cancel=function(){if(this._canceled===!0)return;this._canceled=!0;for(var a=0;a<this._listeners.length;a++)try{this._listeners[a]()}catch(b){Logger.warning("Failed during cancellation callback",b)}},a}();b.CancellationTokenSource=e,function(a){a[a.GET=0]="GET",a[a.POST=1]="POST",a[a.HEAD=2]="HEAD",a[a.PUT=3]="PUT",a[a.DELETE=4]="DELETE"}(b.HttpMethod||(b.HttpMethod={}));var f=b.HttpMethod,g=function(){function a(a,b,c){b===void 0&&(b=0),c===void 0&&(c=null),this.message=a,this.status=b,this.details=c}return Object.defineProperty(a.prototype,"isBadRequest",{get:function(){return this.status!=null&&this.status>=400&&this.status<500},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isServerError",{get:function(){return this.status!=null&&this.status>=500&&this.status<600},enumerable:!0,configurable:!0}),a}();b.HttpError=g,b.toQueryString=h,b.AjaxPromise=j,b.injectScript=l,b.injectTranslatorScripts=m,b.injectDisableTranslatorScripts=n})(b=a.JS||(a.JS={}))})(Microsoft||(Microsoft={}))
;function getUiTextLang(){return Microsoft.JS.TextLanguage.normalizeCode(window.navigator.language)||"en"}var Microsoft;(function(a){var b;(function(a){function d(b,c){var d;try{d=JSON.parse(b.responseText)}catch(e){throw new a.HttpError(b.responseText)}if(typeOf(d)!==c)throw new a.HttpError(a.serialize(d));return d}"use strict";var b={ar:!0,he:!0,fa:!0,ur:!0},c=function(){function a(b,c){this.name=c,this.code=a.normalizeCode(b)}return Object.defineProperty(a.prototype,"isRtl",{get:function(){return this.code&&b.hasOwnProperty(this.code)},enumerable:!0,configurable:!0}),a.prototype.toString=function(){return this.code+": "+this.name},a.isRtl=function(c){return c=a.normalizeCode(c),c&&b.hasOwnProperty(c.toLowerCase())},a.equals=function(a,b){return a!=null&&b!=null&&a.code===b.code},a.normalizeCode=function(a){var b="",c="",d="";if(typeOf(a)==="string"){var e=a.split("-");b=e[0].toLowerCase();for(var f=1;f<e.length&&!d&&!c;f++)e[f].length===2?(c=e[f].toUpperCase(),b==="zh"&&c==="CN"?d="Hans":b=="zh"&&c==="TW"&&(d="Hant")):e[f].length===3&&!c?e[f].toUpperCase()==="CHS"?d="Hans":e[f]==="CHT"&&(d="Hant"):e[f].length===4&&!c&&(d=e[f][0].toUpperCase()+e[f].substring(1).toLowerCase())}b==="nb"&&(b="no");var g=b;return d&&(g+="-"+d),g},a}();a.TextLanguage=c;var e="text_lang_last_sync",f="text_langs_"+getUiTextLang(),g=function(){function b(b,c,d){this._baseUrl=b,this._storage=d;if(b==null||b.length===0)throw new Error("The application ID cannot be null or empty");if(c==null||c.length===0)throw new Error("The application ID cannot be null or empty");this._baseQuery="";var e=b.indexOf("?");e>=0&&(this._baseUrl=b.substring(0,e),this._baseQuery=b.substring(e)),this._baseUrl.charAt(this._baseUrl.length-1)!=="/"&&(this._baseUrl+="/");var f=a.toQueryString({appId:c});this._baseQuery+=(this._baseQuery.length===0?"?":"&")+f}return b.prototype._getCachedTextLanguagesAsync=function(){var b=this;return new Promise(function(c,d){try{b._storage.get([e,f],function(b){if(chrome.runtime.lastError){d(chrome.runtime.lastError);return}if(Date.now()-b[e]>a.config.languageCacheDurationMs){d("The cached text languages have expired");return}typeOf(b[f])!=="array"?d("The cached text languages were not an array"):c(b[f])})}catch(g){d(g)}})},b.prototype.getTextLanguagesAsync=function(b,d){var g=this,h;return b===!0?h=Promise.reject("Forcing an update"):h=this._getCachedTextLanguagesAsync(),h.catch(function(b){Logger.info("Need to retrieve updated text languages",b);var h=[];return g.getTextLanguageCodesAsync(d).then(function(a){return h=a,g.getLanguageNamesAsync(a,d)}).then(function(b){if(b.length!==h.length)return Promise.reject(new a.HttpError("Wrong number of language names returned"));var d=[];for(var i=0;i<b.length;i++)d.push(new c(h[i],b[i]));Logger.debug("Retrieved the following text languages:",d);var j={};return j[e]=Date.now(),j[f]=d,g._storage.set(j,function(){chrome.runtime.lastError&&Logger.error("Failed to store the cached languages.",chrome.runtime.lastError)}),d})})},b.prototype.getTextLanguageCodesAsync=function(b){return a.AjaxPromise(a.HttpMethod.GET,this._baseUrl+"GetLanguagesForTranslate"+this._baseQuery,{contentType:"application/x-www-form-urlencoded",parser:function(a){return d(a,"array")},token:b})},b.prototype.getLanguageNamesAsync=function(b,c){return a.AjaxPromise(a.HttpMethod.GET,this._baseUrl+"GetLanguageNames"+this._baseQuery,{query:{locale:getUiTextLang(),languageCodes:JSON.stringify(b)},contentType:"application/x-www-form-urlencoded",parser:function(a){return d(a,"array")},token:c})},b.prototype.translateAsync=function(b,c,e,f,g,h){if(c==null||c.length===0)return Promise.reject(new a.HttpError("toLang cannot be null or empty"));if(e==null)return Promise.reject(new a.HttpError("Must specify an array of text items to translate"));var i={from:b||"",to:c,texts:JSON.stringify(e)};return f&&(i.options=JSON.stringify(f)),a.AjaxPromise(a.HttpMethod.GET,this._baseUrl+"TranslateArray"+this._baseQuery,{query:i,contentType:"application/x-www-form-urlencoded",timeoutInMs:g,parser:function(a){return d(a,"array")},token:h})},b.TEXT_CONTENT="text/plain",b.XML_CONTENT="text/xml",b.HTML_CONTENT="text/html",b}();a.AjaxTranslatorClientV2=g})(b=a.JS||(a.JS={}))})(Microsoft||(Microsoft={}))
;var Microsoft;(function(a){var b;(function(a){var b="999999998DF84F8327FA426EB589A528730CB6B7",c="https://api.microsofttranslator.com/V2/Ajax.svc";a.config={logLevel:a.LogLevel.Error,debug:!1,languageCacheDurationMs:864e5,translatorClient:new a.AjaxTranslatorClientV2(c,b,chrome.storage.local),scriptsToInject:["injectedscript.min.js"]}})(b=a.JS||(a.JS={}))})(Microsoft||(Microsoft={}))
;function onTranslationComplete(){var a=performance.now();Logger.debug("Took "+(a-translationStartTime)+" ms to translate the page")}(function(){window.Microsoft=window.Microsoft||{},Microsoft.Translator={APIRequests:0,APIResponses:0,translationCallsTime:[],totalTranslationTime:0},Microsoft.TranslatorOverride={};var a={debug:!1,escapeNonAscii:!1,maxChars:1e9},b;(function(b){b.addEvent=function(a,b,c,d){var e=function(){return c(a,d)};return a.addEventListener(b,e,!1),e},b.getStyleValue=function(a,b){var c=window.getComputedStyle(a);return c?(b=b.replace(/([A-Z])/g,"-$1").toLowerCase(),c[b]||""):""},b.getStringByteCount=function(b){return a.escapeNonAscii?encodeURIComponent(b).length:encodeURIComponent(b).replace(/%\w\w/g," ").length},b.getBlockParent=function(a){var c=a._display=a._display||b.getStyleValue(a,"display"),d=a._position=a._position||b.getStyleValue(a,"position");return c&&c.toLowerCase()=="inline"&&d.toLowerCase()=="static"&&a.parentNode&&a.parentNode.nodeType==1?b.getBlockParent(a.parentNode):a},Object.freeze(b)})(b||(b={}));var c=function(){};c.prototype.hover=function(){},c.prototype.unhover=function(){},c.prototype.show=function(){},c.prototype.hide=function(){},c.prototype.setLock=function(){},c.prototype.detach=function(){},Microsoft.DomTranslator=function d(c,d,e,f,g,h,i,j,k){function bd(){Z=!0,$&&($=!1,G.size<A&&(j&&i?br():setTimeout(function(){br()},B)))}function bf(a){a=Math.max(a,0),a=Math.min(a,100);for(var b=0;b<t.length;++b)t[b](a)}function bn(a){return Microsoft.JS.TextLanguage.isRtl(a)?{direction:"rtl",textAlign:"right"}:{direction:"ltr",textAlign:"left"}}function bo(a,b){return Microsoft.JS.TextLanguage.isRtl(a)===Microsoft.JS.TextLanguage.isRtl(b)?null:bn(b)}function bp(){var a=[];for(var b=Q.length-2;b>=0;--b){if(Q[b].id){a.unshift(Q[b].id.toString());break}a.unshift((Q[b].nodeName&&Q[b].nodeName.toLowerCase?Q[b].nodeName.toLowerCase():"")+"-"+R[b].toString())}return a.join("_")}function bq(a){var b=a.innerHTML;return b?b.length:0}function br(){if(a.maxChars&&a.maxChars<P&&!Z&&!l.sourceFrame){$||(bu(),$=!0);return}var c=[],d=!1,e=null;if(w&&S.length){var f=0;for(var g=0;g<S.length;++g)f+=parseInt(S[g].p);bf(Math.min(99.999*(f-N)/(O-N),99.999))}while(Q.length>0&&(M<K||c.length)){if(by(Q.top())){Q.push(Q.top().contentWindow.document.documentElement),R.push(0),S.push({o:0,p:0}),d=!0,b.addEvent(Q.top().ownerDocument.defaultView||Q.top().ownerDocument.parentWindow,"scroll",bd);if(w){var h=typeof Q.top().length=="number"?Q.top().length:Q.top().getAttribute("len")||bq(Q.top());try{!Q.top().length&&!Q.top().getAttribute("len")&&Q.top().setAttribute("len",h)}catch(i){}S[S.length-1].o=h,O+=h}}else if(Q.top().firstChild&&!bx(Q.top())&&bw(Q.top())){Q.push(Q.top().firstChild),R.push(0),S.push({o:0,p:0}),d=!0;if(w){var h=typeof Q.top().length=="number"?Q.top().length:Q.top().getAttribute("len")||bq(Q.top());try{!Q.top().length&&!Q.top().getAttribute("len")&&Q.top().setAttribute("len",h)}catch(i){}S[S.length-1].o=h}}else{while(Q.length&&!Q.top().nextSibling&&!Q.top().nextElementSibling)Q.pop(),R.pop(),S.pop(),d=!0;if(Q.length>1){w&&Q.top().nodeName.toLowerCase()!="head"&&(S[S.length-2].p+=parseInt(S[S.length-1].o)),Q.push(Q.pop().nextSibling),S[S.length-1]={o:0,p:0},bx(Q.top())||(d=!0);if(w){var h=typeof Q.top().length=="number"?Q.top().length:Q.top().getAttribute("len")||bq(Q.top());try{!Q.top().length&&!Q.top().getAttribute("len")&&Q.top().setAttribute("len",h)}catch(i){}S[S.length-1].o=h}}else Q.pop(),R.pop(),S.pop(),d=!0}if(d||Q.length>0&&!bx(Q.top())){if(c.length)try{bC(c,e)}catch(j){}d=!1,e=null}Q.length&&(Q.top().clientHeight<Q.top().scrollHeight&&b.addEvent(Q.top(),"scroll",bd),bx(Q.top())&&(e||(e=bp()),++R[R.length-1],c.push(Q.top())),Q.top().nodeName.toLowerCase()!="head"&&!bw(Q.top())&&(N+=parseInt(S.top().o)))}if(M>0||H.length>0)bU();else{if(G.size>0||H.length>0)return;bf(100),bt(1),p&&p(o),p=null,Microsoft.TranslatorOverride&&Microsoft.TranslatorOverride.showHighlight&&Microsoft.TranslatorOverride.showHighlight(l,m,n);if(window.translatorOnComplete||document.translatorOnComplete)try{(window.translatorOnComplete||document.translatorOnComplete)()}catch(j){}bu()}}function bs(a){try{if(!v||!a||!a.getAttribute)return;a.adjustAlign=a.getAttribute("adjustalign")&&a.getAttribute("adjustalign").toLowerCase()!="false",a.adjustAlign==null&&(a.adjustAlign=a.parentNode.adjustAlign);if(a.adjustAlign==undefined||a.adjustAlign==null)a.adjustAlign=!0;if(a.style&&bw(a)&&!l.sourceFrame&&a.adjustAlign){while(b.getStyleValue(a,"display")==="inline")a=a.parentNode;for(var c in v)try{var d=b.getStyleValue(a,c);if(d!=v[c]){if(c=="textAlign"&&(d&&d.toLowerCase().indexOf("center")!=-1||a.tagName&&a.tagName.toLowerCase()=="center"))continue;y&&(a._mstStyle||(a._mstStyle={}),a.style[c]?a._mstStyle[c]=a.style[c]:a._mstStyle[c]=d),a.style[c]=v[c]}}catch(e){Logger.error(e)}}}catch(f){Logger.error(f)}}function bt(a){I||(o.getElementsByTagName?I=o.getElementsByTagName("img"):o.documentElement.getElementsByTagName?I=o.documentElement.getElementsByTagName("img"):o.ownerDocument.documentElement.getElementsByTagName&&(I=o.ownerDocument.documentElement.getElementsByTagName("img")));var b;if(I&&I.length>0)var c=0;for(var d=0;d<I.length&&c<Math.max(1,I.length*a);d++)b=I[d],b.getAttribute("_mssrc")&&(b.src=b.getAttribute("_mssrc"),b.removeAttribute("_mssrc"),c++)}function bu(){if(!u||!l.sourceFrame)_=[]}function bv(a,b){if(!a||!a.children)return 0;b=typeof b=="number"?parseInt(b):100;var c=[0],d=0;while(c.length>0&&a){if(c.length>=b)break;var e=c.length-1;if(!a.children||c[e]>=a.children.length)c.pop(),a=a.parentNode;else{if(by(a.children[c[e]]))return!0;a=a.children[c[e]],c[e]=c[e]+1,c.push(0),d=Math.max(d,c.length)}}return d===0?0:d-1}function bw(a){if(a.nodeType==3)return!0;if(a.nodeType!=1||!a.hasChildNodes())return!1;if(by(a))return!0;var b;try{b=bz(a)}catch(c){}if(b==bg.Off||b==bg.Skip)return!1;if(bk[a.nodeName.toLowerCase()])return!1;var d=bv(a,5);return d===!0||d>=5?!0:bG(a.textContent)}function bx(a){if(a.nodeType==3)return!0;if(a.nodeType!=1||a._mstChunk||b.getStyleValue(a,"display").toLowerCase()!="inline"||b.getStyleValue(a,"position").toLowerCase()!="static"||bl[a.nodeName.toLowerCase()])return!1;for(var c=0;c<a.childNodes.length;++c)if(!bx(a.childNodes[c]))return!1;return!0}function by(a){try{return a.contentWindow&&a.contentWindow.document&&a.contentWindow.document.documentElement}catch(b){}return!1}function bz(a){var b=bg.Inherit;if(!a.getAttribute)return b;for(var c in bi){var d=bA(a,c);if(d!=null){var e=bi[c],f=e[d.toString().toLowerCase()];b=f||b;if(b==bg.Off||b==bg.Skip)return b}}var g=bA(a,"class")||bA(a,"className");if(g!=null){var h=g.toString().split(" ");for(var i=0;i<h.length;i++){var j=h[i],f=bj[j.toLowerCase()];b=f||b;if(b==bg.Off)return b}}return b}function bA(a,b){try{return a.getAttribute(b)||a[b]}catch(c){return null}}function bB(a){var b=bg.Inherit,c=a.ownerDocument.getElementsByTagName("meta");for(var d=0;d<c.length;d++){var e=c[d],f=bA(e,"name");if(f!=null&&bh[f.toString().toLowerCase()]!=null){var g=bh[f.toString().toLowerCase()];for(var h in g){var i=bA(e,h);if(i!=null){i=i.toString().toLowerCase();var j=g[h][i];if(j!=null){b=j||b;if(b==bg.Off)return b}if(i.match(/^notranslateclasses\s/i)){var k=i.split(/\s+/);for(var l=1;l<k.length;l++)bj[k[l]]=bg.Off}}}}}return b}function bC(a,c){bE(a);var d=bD(a);if(d&&bw(d)){d._mstHash=bT(c);while(l[d._mstHash])++d._mstHash;l[d._mstHash]=d;var e;if(j&&!l.sourceFrame){if(!(j&&u&&u[d._mstHash]))return;e=bI(u[d._mstHash],"b");var f=bI(d,"b");if(e.split(/<b\d+/g).length!=f.split(/<b\d+/g).length)return}else e=bI(d,"b");bG(e)&&(M+=b.getStringByteCount(e),T.push(d),U.push(e))}}function bD(a){var b=null;if(a.length>0)if(a.length==1&&a[0].nodeType==1)b=a.pop();else if(a[0].parentNode&&a.length==a[0].parentNode.childNodes.length){b=a.pop().parentNode;while(a.length>0)a.pop()}else{b=a[0].ownerDocument.createElement("font"),b._mstChunk=!0,a[0].parentNode&&a[0].parentNode.insertBefore(b,a[0]);while(a.length>0)b.appendChild(a.shift())}return b}function bE(a){var b=!0;while(b){b=!1;if(a.length==1&&!bw(a[0]))return;if(a.length==1&&a[0].nodeType==1&&a[0].childNodes.length>0){var c=a.pop();for(var d=0;d<c.childNodes.length;d++)a.push(c.childNodes[d]);b=!0}a.length>0&&(bH(a[0])?bH(a[a.length-1])||(a.pop(),b=!0):(a.shift(),b=!0))}a.length==1&&!bH(a[0])&&a.pop()}function bG(a){return bF.test(a)||j&&a.replace(/[\r\n\s]/g,"").length>0}function bH(a){if(!bx(a))return!0;var b="";switch(a.nodeType){case 1:b=a.textContent||"";break;case 3:b=a.nodeValue||""}return bG(b)}function bI(a,b,c){c=c?c:1;if(c>9)throw new Error("Element too deep");var d=[],e=0;for(var f=0;f<a.childNodes.length;++f)switch(a.childNodes[f].nodeType){case 1:var g=b+c.toString()+e.toString(),h;try{h=bz(a.childNodes[f])}catch(i){}h==bg.Skip&&a.childNodes[f].previousSibling&&a.childNodes[f].previousSibling.nodeType==1?a.childNodes[f].previousSibling._mstSkipNext=e:h==bg.Skip&&a.childNodes[f].nextSibling&&a.childNodes[f].nextSibling.nodeType==1?a.childNodes[f].nextSibling._mstSkipPrev=e:(d.push("<"),d.push(g),d.push(">"),h!=bg.Skip&&d.push(bI(a.childNodes[f],b,c+1)),d.push("</"),d.push(g),d.push(">")),++e;break;case 3:a.childNodes[f].nodeValue&&d.push(bR(a.childNodes[f].nodeValue))}return d.join("")}function bJ(a,b,c,d){if(!a||!b||typeof c!="string"||typeof d!="number")return;if(d>9)throw new Error("Element too deep");var e=0,f=[],g=[];for(var h=0;h<a.childNodes.length;h++){var i=a.childNodes[h];i.nodeType===1?f.push(i):i.nodeType===3&&g.push(i)}for(var j=0;j<b.childNodes.length;j++){var k=b.childNodes[j],l=null;if(k.nodeType===3)l=g.length>0?g.shift():document.createTextNode(""),l.nodeValue=k.nodeValue;else if(k.nodeType===1){var m=k.nodeName;if(m.length<c.length+2||m.substring(0,c.length)!==c)Logger.error("Encountered an unexpected node in the returned translated HTML. Expected "+c+d+"X but got "+m);else{var n=c.length,o=parseInt(m.substring(n,n+1)),p=parseInt(m.substring(n+1));o!==d?Logger.error("Encountered a node at the wrong level. Expected level "+d+" but got "+m):p>=0&&p<f.length?(l=f[p],bJ(l,k,c,d+1)):Logger.error("Encountered a node at with an invalid element index. There are "+f.length+" nodes at level "+d+" but got "+m)}}l&&(a.childNodes[e]!==l&&a.insertBefore(l,a.childNodes[e]),e++)}while(e<a.childNodes.length)a.removeChild(a.lastChild)}function bK(a,b,c){if(!a||!a.childNodes||typeof b!="string"||b.length===0||typeof c!="string"||c.length===0)return;c=c.toUpperCase();var d=document.createElement("div");d.innerHTML=bS(b),bJ(a,d,c,1)}function bR(a){return a.replace(bN,"&amp;").replace(bO,"&lt;").replace(bP,"&gt;").replace(bL," ")}function bS(a){return a.replace(bQ,"<$1$2$3>")}function bT(a){a=a.replace(bL,"");var b=0;for(var c=0;c<a.length;++c)b+=a.charCodeAt(c)*13*(c+7);return b}function bU(){var a=[],c=[],d=0,e=b.getStringByteCount(U[0]);if(H.length>0&&!Y){Y=!0;var f=H.shift();W=f.txt,d=f.length,V=f.dom;var g=W[0],h=Math.floor(g.length*K/d);W=[g.substr(0,h),g];while(b.getStringByteCount(W[0])>K&&h>400)h=Math.floor(h/2),W=[g.substr(0,h),g];J={aTxt:[],aSrcSnt:[],aTgtSnt:[]},ba=new Date,bb=W[0].length,bc=1,Microsoft.JS.config.translatorClient.translateAsync(m,n,[W[0]],null,q).then(bV,bY),window.Microsoft.Translator.translationCallsTime[window.Microsoft.Translator.APIRequests]=(new Date).getTime(),window.Microsoft.Translator.APIRequests==0&&(x=new Date),window.Microsoft.Translator.APIRequests++;return}do{if(U.length==0)break;M-=e,d+=e,P+=U[0].length,a.push(T.shift()),c.push(U.shift()),e=U.length>0?b.getStringByteCount(U[0]):0}while(T.length>0&&d<K&&d+e+(c.length+1)*b.getStringByteCount('"",')<=L);d>L&&(!u||!l.sourceFrame)?(H.push({dom:a,txt:c,length:d}),br()):d>0&&(!u||!l.sourceFrame)?(ba=new Date,bb=d,bc=c.length,E[z]=function(a){return function(b){bW(b,a)}}(z),F[z]=function(a){return function(b){bY(b,a)}}(z),G[z]={Dom:a,Txt:c},G.size++,Microsoft.JS.config.translatorClient.translateAsync(m,n,c,null,q).then(E[z],F[z]),window.Microsoft.Translator.translationCallsTime[z]=(new Date).getTime(),z++,window.Microsoft.Translator.APIRequests==0&&(x=new Date),window.Microsoft.Translator.APIRequests++,bX(),G.size<A&&(j&&i?br():setTimeout(function(){br()},B))):G.size<A&&(j&&i?br():setTimeout(function(){br()},B))}function bV(a){if(X)return;if(!Y)return;Y=!1,window.Microsoft.Translator.APIResponses++,l.detectedLanguage=a&&a[0]&&a[0].From?a[0].From.toLowerCase():l.detectedLanguage;var c=a[0].TranslatedText,d=a[0].OriginalTextSentenceLengths,e=a[0].TranslatedTextSentenceLengths,f=0,g=0;if(!(c&&d&&e)){Y=!0,bY(a[0].Error);return}bZ(a);for(var h=0;h<(W.length>1?Math.max(d.length-2,1):d.length);++h)J.aTxt.push(c.substr(g,e[h])),J.aSrcSnt.push(d[h]),J.aTgtSnt.push(e[h]),f+=d[h],g+=e[h];if(W.length>1)if(d.length<1)br();else{var k=W[1].substr(f),o=b.getStringByteCount(k),p=Math.floor(k.length*K/o);W=p>K?[k.substr(0,p),k]:[k];while(b.getStringByteCount(W[0])>K&&p>400)p=Math.floor(p/2),W=[k.substr(0,p),k];if(Y)return;Y=!0,ba=new Date,bb=W[0].length,bc=1,Microsoft.JS.config.translatorClient.translateAsync(m,n,[W[0]],null,q).then(bV,bY)}else{var r=V.shift();!i&&!j&&bs(r);try{b$(r,bI(r,"b"),J.aTxt.join(""),J.aSrcSnt,J.aTgtSnt)}catch(s){}G.size<A&&(j&&i?br():setTimeout(function(){br()},B))}}function bW(a,b){if(X)return;window.Microsoft.Translator.translationCallsTime[b]=(new Date).getTime()-window.Microsoft.Translator.translationCallsTime[b];var d=(new Date).getTime()-x.getTime();x=new Date,window.Microsoft.Translator.totalTranslationTime+=d,window.Microsoft.Translator.APIResponses++;if(G[b]&&a.length!=G[b].Dom.length){bY("Inconsistent Data",b);return}bZ(a),l.detectedLanguage=a&&a[0]&&a[0].From?a[0].From.toLowerCase():l.detectedLanguage;if(v&&!i&&!j)for(var e=0;e<G[b].Dom.length;e++)bs(G[b].Dom[e]);var f="";for(var g=G[b].Dom.shift(),h=G[b].Txt.shift(),k=a.shift();g&&k;g=G[b].Dom.shift(),h=G[b].Txt.shift(),k=a.shift()){k.Alignment&&(f.length!=0&&(f+="|"),f+=k.Alignment);try{b$(g,h,k.TranslatedText,k.OriginalTextSentenceLengths,k.TranslatedTextSentenceLengths)}catch(m){}}f.length!=0&&c.setAttribute("mstAlign",f),delete G[b],G.size--,G.size<A&&(j&&i?br():setTimeout(function(){br()},B))}function bX(){z>D?A=1:A>2&&z%C==0&&(A-=parseInt(A/3),B+=10,bt(.1))}function bY(a,b){b&&(delete G[b],G.size--);if(X)return;window.Microsoft.Translator.APIResponses++,bZ(null),r&&r(a),G.size<A&&br()}function bZ(a){var b=new Date,c=b.getTime()-ba.getTime();c>13e3&&(c=13e3);var d=0;if(a)for(var e=0;e<a.length;++e)d+=a[e].OriginalTextSentenceLengths.length;else d=bc;_.push({r:a?"S":"E",c:bb,s:d,e:bc,l:c})}function b_(a){if(!y)throw new Error("Untranslate feature was turned off, please consider modifying the parameter in the constructor!");if(a.nodeName.toLowerCase()=="frame"||a.nodeName.toLowerCase()=="iframe")try{b_(a.contentWindow.document.documentElement)}catch(b){}else{if(a._mstStyle)for(var c in a._mstStyle)try{a.style[c]=a._mstStyle[c]}catch(b){}a._mstStyle=null;if(a._mstSrcHtml)a.innerHTML=a._mstSrcHtml,a._mstTooltip&&a._mstTooltip.detach();else for(var d=0;d<a.childNodes.length;++d)try{b_(a.childNodes[d])}catch(b){}}}var l=this,m=d,n=e,o=c,p=f,q=h,r=function(a){if(typeof g=="function")try{g(Microsoft.JS.serialize(a))}catch(b){Logger.error("Encountered exception while calling error handler",b)}},s=new Microsoft.JS.CancellationTokenSource,t=[],u,v;j=j===!0;var w=!1,x,y=!k&&!j,z=0,A=4,B=0,C=5,D=33;q*=A;var E=[],F=[],G={};G.size=0;var H=[],I;a.from=d,a.to=e;if(c.nodeType!=1)throw new Error("Invalid input type");if(d==e)return bt(1),f&&f(c),this;if(!o.hasChildNodes())return f&&f(c),this;var J,K=1400,L=1600,M=0,N=0,O=o.innerHTML.length,P=0,Q=[o],R=[0],S=[{o:O,p:0}],T=[],U=[],V=[],W=[],X=!1,Y=!1,Z=!1,$=!1;this.showTooltips=!0,this.showHighlight=!0,this.sourceFrame=i?!0:!1,this.detectedLanguage,this.transItems=[];var _=[],ba,bb=0,bc=0;b.addEvent(o.ownerDocument.defaultView||o.ownerDocument.parentWindow,"scroll",bd);var be=this.cancel=function(){Microsoft.TranslatorOverride&&Microsoft.TranslatorOverride.hideTooltip&&Microsoft.TranslatorOverride.hideTooltip();if(!o)return;X=!0,s.cancel(),b_(o),o=null};this.exit=function(){be()},this.addProgressEvent=function(a){t.push(a)},this.setParallel=function(a){u=a};var bg={Inherit:0,On:1,Off:2,Skip:3},bh={google:{value:{notranslate:bg.Off},content:{notranslate:bg.Off}},microsoft:{value:{notranslate:bg.Off},content:{notranslate:bg.Off}}},bi={translate:{"true":bg.On,yes:bg.On,"false":bg.Off,no:bg.Off,skip:bg.Skip}},bj={notranslate:bg.Off,skiptranslate:bg.Skip};if(bB(o)==bg.Off){f&&f(c);return}Q.top=R.top=S.top=function(){return this[this.length-1]};var bk={head:1,script:1,style:1,code:1,samp:1,"var":1,kbd:1,pre:1,input:1,object:1,address:1,textarea:1,noscript:1,embed:1},bl={hr:1,option:1,title:1,frame:1,iframe:1};for(var bm in bk)bl[bm]=1;delete bl.code,delete bl.samp,delete bl["var"],!i&&!j&&(v=bo(m,n));var bF=new RegExp("[a-zA-Z0-9\\?!.,:؟،。：¿¡।À-￿]"),bL=/[\s\xA0]/g,bM=/[\s\xA0]+/g,bN=/&/g,bO=/</g,bP=/>/g,bQ=/<\s*(\/)?\s*(\w+)\s*(\d*)\s*>/g,b$=this.translateElement=function(a,b,c,d,e){a._mstSrcHtml=a.innerHTML;if(a.nodeName.toLowerCase()=="option"){bK(a,c,"b",null,null);return}var f,g=a._mstHash;l.sourceFrame?f=a.cloneNode(!0):(f=a,a=f.cloneNode(!0));var h=d?d.slice(0):[],i=e?e.slice(0):[],j=[[]],k=[[]];try{bK(f,c,"b",i,k)}catch(m){}u&&u[g]&&!l.sourceFrame&&u.translateElement(u[g],b,c,d,e)};return j&&i?br():setTimeout(br,0),this}})();var translationStartTime=performance.now(),translator=new Microsoft.DomTranslator(document.body,fromLang,toLang,onTranslationComplete,null,3e5,!1,!1,!0)
