{"version":3,"sources":["browsersupport.js"],"names":[],"mappings":"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","file":"browsersupport.js","sourcesContent":["/* exported RESEnvironment, BrowserDetect, xhrQueue */\r\n\r\nvar RESEnvironment = {\r\n\tlocalStorage: (function() {\r\n\t\tvar original =\r\n\t\t\ttypeof unsafeWindow !== 'undefined' ? unsafeWindow.localStorage :\r\n\t\t\ttypeof localStorage !== 'undefined' ? localStorage :\r\n\t\t\ttypeof window !== 'undefined' && window.localStorage ? window.localStorage :\r\n\t\t\tundefined;\r\n\r\n\t\treturn function() { return original; };\r\n\t})(),\r\n\tlocation: function() {\r\n\t\treturn location;\r\n\t},\r\n\tgetMutationObserver: function() {\r\n\t\tif (!this.MutationObserver) {\r\n\t\t\t// set up MutationObserver variable to take whichever is supported / existing...\r\n\t\t\tthis.MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver || null;\r\n\r\n\t\t\t// null out MutationObserver to test legacy DOMNodeInserted\r\n\t\t\t// this.MutationObserver = null;\r\n\t\t}\r\n\r\n\t\treturn this.MutationObserver;\r\n\t},\r\n\tsanitizeJSON: function(data) {\r\n\t\treturn data;\r\n\t},\r\n\tparseHtmlAsDocument: (function() {\r\n\t\tvar domParserCanHandleHtml = false;\r\n\r\n\t\ttry {\r\n\t\t\tif ((new DOMParser()).parseFromString('<html />', 'text/html')) {\r\n\t\t\t\t// text/html parsing is natively supported\r\n\t\t\t\t// Expected to work in Firefox, Chrome, OperaBlink, Opera, Safari 7\r\n\t\t\t\t// Not expected to work in Safari ... 6?\r\n\t\t\t\tdomParserCanHandleHtml = true;\r\n\t\t\t}\r\n\t\t} catch (ex) {\r\n\t\t\t// ignore\r\n\t\t}\r\n\r\n\t\treturn function(markup) {\r\n\t\t\tvar doc;\r\n\t\t\tif (domParserCanHandleHtml) {\r\n\t\t\t\tdoc = (new DOMParser()).parseFromString(markup, 'text/html');\r\n\t\t\t} else {\r\n\t\t\t\tdoc = document.implementation.createHTMLDocument('');\r\n\t\t\t\tif (markup.toLowerCase().indexOf('<!doctype') !== -1) {\r\n\t\t\t\t\tdoc.documentElement.innerHTML = markup;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdoc.body.innerHTML = markup;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn doc;\r\n\t\t};\r\n\t})(),\r\n\tajax: function(obj) {\r\n\t\t// return nothing\r\n\t},\r\n\tstorageSetup: function(thisJSON) {\r\n\t\t// return nothing\r\n\t},\r\n\tRESInitReadyCheck: function() {\r\n\t\tif (typeof $ !== 'function') {\r\n\t\t\tconsole.log('Uh oh, something has gone wrong loading jQuery...');\r\n\t\t}\r\n\r\n\t\t$(document).ready(RESInit);\r\n\t\t// return nothing\r\n\t},\r\n\tsendMessage: function(thisJSON) {\r\n\t\t// return nothing\r\n\t},\r\n\tdeleteCookies: function(cookieNames, callback) {\r\n\t\tvar deferreds = [].concat(cookieNames).map(RESEnvironment.deleteCookie);\r\n\t\t$.when.apply($, deferreds).done(callback);\r\n\t},\r\n\tdeleteCookie: function(cookieName) {\r\n\t\tvar deferred = new $.Deferred();\r\n\r\n\t\tdocument.cookie = cookieName + '=null;expires=' + Date.now() + '; path=/;domain=reddit.com';\r\n\t\tdeferred.resolve(cookieName);\r\n\r\n\t\treturn deferred;\r\n\t},\r\n\tgetOutlineProperty: function() {\r\n\t\t// return string or nothing\r\n\t},\r\n\topenNewWindow: function(thisHREF) {\r\n\t\twindow.open(thisHREF);\r\n\t},\r\n\taddURLToHistory: function(url) {\r\n\t\tvar thisJSON = {\r\n\t\t\trequestType: 'addURLToHistory',\r\n\t\t\turl: url\r\n\t\t};\r\n\r\n\t\tRESEnvironment.sendMessage(thisJSON);\r\n\r\n\t\t// return nothing\r\n\t},\r\n\t_addURLToHistory: (function() {\r\n\t\t// NOTE TO REVIEWERS: Not used by Chrome or Firefox\r\n\t\t// This is the poor man's implementation of browser.history.push()\r\n\r\n\t\tvar frame;\r\n\t\tvar urls = [];\r\n\r\n\t\tfunction addURLToHistory(url) {\r\n\t\t\tif (url) {\r\n\t\t\t\turls.push(url);\r\n\t\t\t}\r\n\t\t\thandleUrls();\r\n\t\t\t// return nothing\r\n\t\t}\r\n\r\n\t\tfunction handleUrls() {\r\n\t\t\tsetup();\r\n\t\t\tvar url;\r\n\t\t\twhile ((url = urls.shift())) {\r\n\t\t\t\tsendMessage(url);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction setup() {\r\n\t\t\tRESEnvironment._addURLToHistoryViaForeground = loadInFrame;\r\n\t\t\tif (frame) return;\r\n\r\n\t\t\tframe = document.createElement('iframe');\r\n\t\t\tfunction onload() {\r\n\t\t\t\tsetTimeout(handleUrls, 300);\r\n\t\t\t\tframe.removeEventListener('load', onload, false);\r\n\t\t\t\tframe.contentWindow.location.replace('about:blank');\r\n\t\t\t}\r\n\t\t\tframe.addEventListener('load', onload, false);\r\n\t\t\tframe.style.display = 'none';\r\n\t\t\tframe.style.width = '0px';\r\n\t\t\tframe.style.height = '0px';\r\n\t\t\tdocument.body.appendChild(frame);\r\n\t\t}\r\n\r\n\t\tfunction sendMessage(url) {\r\n\t\t\tvar thisJSON = {\r\n\t\t\t\trequestType: 'addURLToHistory',\r\n\t\t\t\turl: url\r\n\t\t\t};\r\n\r\n\t\t\tRESEnvironment.sendMessage(thisJSON);\r\n\t\t}\r\n\r\n\t\tfunction loadInFrame(url) {\r\n\t\t\tframe.contentWindow.location.replace(url);\r\n\t\t}\r\n\r\n\t\treturn addURLToHistory;\r\n\t})()\r\n};\r\n\r\nvar BrowserDetect = {\r\n\tinit: function() {\r\n\t\tif (typeof navigator === 'undefined') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.browser = this.searchString(this.dataBrowser()) || 'An unknown browser';\r\n\t\tthis.version = this.searchVersion(navigator.userAgent) ||\r\n\t\t\tthis.searchVersion(navigator.appVersion) ||\r\n\t\t\t'an unknown version';\r\n\t\tthis.OS = this.searchString(this.dataOS()) || 'an unknown OS';\r\n\t},\r\n\tsearchString: function(datas) {\r\n\t\tvar data = datas.find(function(data) {\r\n\t\t\tthis.versionSearchString = data.versionSearch || data.identity;\r\n\t\t\treturn (data.string && data.string.indexOf(data.subString) !== -1) ||\r\n\t\t\t\tdata.prop;\r\n\t\t}, this);\r\n\r\n\t\treturn data ? data.identity : undefined;\r\n\t},\r\n\tsearchVersion: function(dataString) {\r\n\t\tvar index = dataString.indexOf(this.versionSearchString);\r\n\t\tif (index === -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\treturn parseFloat(dataString.substring(index + this.versionSearchString.length + 1));\r\n\t},\r\n\tisChrome: function() {\r\n\t\treturn typeof chrome !== 'undefined';\r\n\t},\r\n\tisFirefox: function() {\r\n\t\treturn typeof self !== 'undefined' && typeof self.on === 'function';\r\n\t},\r\n\tisOperaBlink: function() {\r\n\t\treturn typeof chrome !== 'undefined' && BrowserDetect.browser === 'Opera';\r\n\t},\r\n\tisSafari: function() {\r\n\t\treturn typeof safari !== 'undefined';\r\n\t},\r\n\tdataBrowser: function() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tstring: navigator.userAgent,\r\n\t\t\t\tsubString: 'OPR/',\r\n\t\t\t\tidentity: 'Opera'\r\n\t\t\t}, {\r\n\t\t\t\tstring: navigator.userAgent,\r\n\t\t\t\tsubString: 'Chrome',\r\n\t\t\t\tidentity: 'Chrome'\r\n\t\t\t}, {\r\n\t\t\t\tstring: navigator.userAgent,\r\n\t\t\t\tsubString: 'OmniWeb',\r\n\t\t\t\tversionSearch: 'OmniWeb/',\r\n\t\t\t\tidentity: 'OmniWeb'\r\n\t\t\t}, {\r\n\t\t\t\tstring: navigator.vendor,\r\n\t\t\t\tsubString: 'Apple',\r\n\t\t\t\tidentity: 'Safari',\r\n\t\t\t\tversionSearch: 'Version'\r\n\t\t\t}, {\r\n\t\t\t\tprop: window.opera,\r\n\t\t\t\tidentity: 'Opera',\r\n\t\t\t\tversionSearch: 'Version'\r\n\t\t\t}, {\r\n\t\t\t\tstring: navigator.vendor,\r\n\t\t\t\tsubString: 'iCab',\r\n\t\t\t\tidentity: 'iCab'\r\n\t\t\t}, {\r\n\t\t\t\tstring: navigator.vendor,\r\n\t\t\t\tsubString: 'KDE',\r\n\t\t\t\tidentity: 'Konqueror'\r\n\t\t\t}, {\r\n\t\t\t\tstring: navigator.userAgent,\r\n\t\t\t\tsubString: 'Firefox',\r\n\t\t\t\tidentity: 'Firefox'\r\n\t\t\t}, {\r\n\t\t\t\tstring: navigator.vendor,\r\n\t\t\t\tsubString: 'Camino',\r\n\t\t\t\tidentity: 'Camino'\r\n\t\t\t}, { // for newer Netscapes (6+)\r\n\t\t\t\tstring: navigator.userAgent,\r\n\t\t\t\tsubString: 'Netscape',\r\n\t\t\t\tidentity: 'Netscape'\r\n\t\t\t}, {\r\n\t\t\t\tstring: navigator.userAgent,\r\n\t\t\t\tsubString: 'MSIE',\r\n\t\t\t\tidentity: 'Explorer',\r\n\t\t\t\tversionSearch: 'MSIE'\r\n\t\t\t}, {\r\n\t\t\t\tstring: navigator.userAgent,\r\n\t\t\t\tsubString: 'Gecko',\r\n\t\t\t\tidentity: 'Mozilla',\r\n\t\t\t\tversionSearch: 'rv'\r\n\t\t\t}, {\r\n\t\t\t\t// for older Netscapes (4-)\r\n\t\t\t\tstring: navigator.userAgent,\r\n\t\t\t\tsubString: 'Mozilla',\r\n\t\t\t\tidentity: 'Netscape',\r\n\t\t\t\tversionSearch: 'Mozilla'\r\n\t\t\t}\r\n\t\t];\r\n\t},\r\n\tdataOS: function() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tstring: navigator.platform,\r\n\t\t\t\tsubString: 'Win',\r\n\t\t\t\tidentity: 'Windows'\r\n\t\t\t}, {\r\n\t\t\t\tstring: navigator.platform,\r\n\t\t\t\tsubString: 'Mac',\r\n\t\t\t\tidentity: 'Mac'\r\n\t\t\t}, {\r\n\t\t\t\tstring: navigator.userAgent,\r\n\t\t\t\tsubString: 'iPhone',\r\n\t\t\t\tidentity: 'iPhone/iPod'\r\n\t\t\t}, {\r\n\t\t\t\tstring: navigator.platform,\r\n\t\t\t\tsubString: 'Linux',\r\n\t\t\t\tidentity: 'Linux'\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n};\r\n\r\nBrowserDetect.init();\r\n\r\n// This object will store xmlHTTPRequest callbacks for Safari because Safari's extension architecture seems stupid.\r\n// This really shouldn't be necessary, but I can't seem to hold on to an onload function that I pass to the background page...\r\nvar xhrQueue = {\r\n\tcount: 0,\r\n\tonloads: []\r\n};\r\n\r\nif (typeof exports === 'object') {\r\n\texports.RESEnvironment = RESEnvironment;\r\n\texports.BrowserDetect = BrowserDetect;\r\n\texports.xhrQueue = xhrQueue;\r\n}\r\n"],"sourceRoot":"/source/"}