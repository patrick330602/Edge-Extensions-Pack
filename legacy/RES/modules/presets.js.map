{"version":3,"sources":["modules/presets.js"],"names":[],"mappings":";;AAAA,UAAU,SAAV,EAAqB,UAAS,MAAT,EAAiB,QAAjB,EAA2B;AAC/C,QAAO,UAAP,GAAoB,SAApB,CAD+C;AAE/C,QAAO,QAAP,GAAkB,MAAlB,CAF+C;AAG/C,QAAO,aAAP,GAAuB,IAAvB,CAH+C;AAI/C,QAAO,WAAP,GAAqB,mJAArB,CAJ+C;;AAM/C,QAAO,OAAP,CAAe,IAAf,GAAsB;AACrB,eAAa,kCAAb;AACA,QAAM,QAAN;AACA,QAAM,cAAN;AACA,YAAU,oBAAW;AACpB,WAAQ,eAAR,EAAyB,gBAAzB,CAA0C;AACzC,cAAU,QAAV;AACA,eAAW,MAAX;AACA,aAAS,yEAAT;IAHD,EADoB;AAMpB,iBAAc,CACb,eADa,EAEb,OAFa,EAGb,eAHa,EAIb,WAJa,EAKb,YALa,EAMb,eANa,EAOb,YAPa,EAQb,cARa,EASb,mBATa,EAUb,iBAVa,EAWb,aAXa,EAYb,cAZa,EAab,eAba,EAcb,UAda,EAeb,eAfa,EAgBb,cAhBa,EAiBb,aAjBa,EAkBb,aAlBa,EAmBb,eAnBa,EAoBb,aApBa,EAqBb,sBArBa,EAsBb,cAtBa,EAuBb,gBAvBa,EAwBb,WAxBa,EAyBb,iBAzBa,CAAd,EA0BG,GA1BH,EANoB;GAAX;EAJX,CAN+C;;AA8C/C,QAAO,OAAP,CAAe,UAAf,GAA4B;AAC3B,eAAa,8BAAb;AACA,QAAM,QAAN;AACA,QAAM,cAAN;AACA,YAAU,oBAAW;AACpB,WAAQ,eAAR,EAAyB,gBAAzB,CAA0C;AACzC,cAAU,QAAV;AACA,eAAW,YAAX;AACA,aAAS,uDAAT;IAHD,EADoB;AAMpB,iBAAc,SAAd,EAAyB,GAAzB,EANoB;GAAX;EAJX,CA9C+C;;AA4D/C,QAAO,OAAP,CAAe,QAAf,GAA0B;AACzB,eAAa,0CAAb;AACA,QAAM,QAAN;AACA,QAAM,cAAN;AACA,YAAU,oBAAW;AACpB,WAAQ,eAAR,EAAyB,gBAAzB,CAA0C;AACzC,cAAU,QAAV;AACA,eAAW,UAAX;AACA,aAAS,+CAAT;IAHD,EADoB;AAMpB,iBAAc,SAAd,EAAyB,0CAA0C,KAA1C,CAAgD,OAAhD,CAAzB,EANoB;AAOpB,iBAAc,SAAd,EAAyB,uBAAuB,KAAvB,CAA6B,OAA7B,CAAzB,EAPoB;GAAX;EAJX,CA5D+C;;AA6E/C,UAAS,mBAAT,CAA6B,WAA7B,EAA0C;AACzC,MAAI,SAAJ,CADyC;AAEzC,MAAI,gBAAgB,GAAhB,EAAqB;AACxB,eAAY,YAAZ,CADwB;GAAzB,MAEO,IAAI,OAAO,WAAP,KAAuB,QAAvB,EAAiC;AAC3C,eAAY,YAAY,KAAZ,CAAkB,OAAlB,CAAZ,CAD2C;GAArC,MAEA,IAAI,eAAe,YAAY,MAAZ,EAAoB;AAC7C,eAAY,WAAZ,CAD6C;GAAvC;AAGP,cAAY,YAAY,GAAG,MAAH,CAAU,SAAV,CAAZ,GAAmC,EAAnC,CAT6B;;AAWzC,SAAO,SAAP,CAXyC;EAA1C;;AAcA,UAAS,aAAT,CAAuB,aAAvB,EAAsC,cAAtC,EAAsD;AACrD,MAAI,MAAJ,EAAY,OAAZ,CADqD;AAErD,WAAS,oBAAoB,aAApB,CAAT,CAFqD;AAGrD,YAAU,oBAAoB,cAApB,CAAV,CAHqD;;AAKrD,YAAU,kBAAkB,GAAlB,GACT,QAAQ,MAAR,CAAe,UAAS,QAAT,EAAmB;AACjC,UAAO,OAAO,OAAP,CAAe,QAAf,MAA6B,CAAC,CAAD,CADH;GAAnB,CADN,GAIT,OAJS,CAL2C;;AAWrD,WAAS,mBAAmB,GAAnB,GACR,OAAO,MAAP,CAAc,UAAS,QAAT,EAAmB;AAChC,UAAO,QAAQ,OAAR,CAAgB,QAAhB,MAA8B,CAAC,CAAD,CADL;GAAnB,CADN,GAIR,MAJQ,CAX4C;;AAiBrD,UAAQ,OAAR,CAAgB,UAAS,QAAT,EAAmB;AAClC,YAAS,OAAT,CAAiB,YAAjB,CAA8B,QAA9B,EAAwC,KAAxC,EADkC;GAAnB,CAAhB,CAjBqD;AAoBrD,SAAO,OAAP,CAAe,UAAS,QAAT,EAAmB;AACjC,YAAS,OAAT,CAAiB,YAAjB,CAA8B,QAA9B,EAAwC,IAAxC,EADiC;GAAnB,CAAf,CApBqD;EAAtD;;AAyBA,UAAS,UAAT,GAAsB;AACrB,SAAO,OAAO,mBAAP,CAA2B,OAA3B,CAAP,CADqB;EAAtB;;AAIA,UAAS,aAAT,CAAuB,aAAvB,EAAsC,cAAtC,EAAsD;AACrD,MAAI,MAAJ,EAAY,OAAZ,CADqD;AAErD,WAAS,gBAAgB,GAAG,MAAH,CAAU,aAAV,CAAhB,GAA2C,EAA3C,CAF4C;AAGrD,YAAU,iBAAiB,GAAG,MAAH,CAAU,cAAV,CAAjB,GAA6C,EAA7C,CAH2C;;AAKrD,SAAO,OAAP,CAAe,eAAe,IAAf,CAAoB,IAApB,EAA0B,IAA1B,CAAf,EALqD;AAMrD,UAAQ,OAAR,CAAgB,eAAe,IAAf,CAAoB,IAApB,EAA0B,KAA1B,CAAhB,EANqD;EAAtD;;AASA,UAAS,cAAT,CAAwB,KAAxB,EAA+B,IAA/B,EAAqC;;AAEpC,MAAI,OAAO,IAAP,KAAgB,QAAhB,EAA0B;AAC7B,UAAO,KAAK,KAAL,CAAW,GAAX,CAAP,CAD6B;GAA9B;AAGA,WAAS,OAAT,CAAiB,SAAjB,CAA2B,KAA3B,CAAiC,SAAS,OAAT,EAAkB,GAAG,MAAH,CAAU,IAAV,EAAgB,MAAhB,CAAuB,KAAvB,CAAnD,EALoC;EAArC;CAjIoB,CAArB","file":"modules/presets.js","sourcesContent":["addModule('presets', function(module, moduleID) {\r\n\tmodule.moduleName = 'Presets';\r\n\tmodule.category = 'Core';\r\n\tmodule.alwaysEnabled = true;\r\n\tmodule.description = 'Select from various preset RES configurations. Each preset turns on or off various modules/options, but does not reset your entire configuration.';\r\n\r\n\tmodule.options.lite = {\r\n\t\tdescription: 'RES Lite: just the popular stuff',\r\n\t\ttype: 'button',\r\n\t\ttext: 'apply preset',\r\n\t\tcallback: function() {\r\n\t\t\tmodules['notifications'].showNotification({\r\n\t\t\t\tmoduleID: moduleID,\r\n\t\t\t\toptionKey: 'lite',\r\n\t\t\t\tmessage: 'Switched to RES Lite: just the popular stuff. Reload to see the result.'\r\n\t\t\t});\r\n\t\t\ttoggleModules([\r\n\t\t\t\t'notifications',\r\n\t\t\t\t'hover',\r\n\t\t\t\t'announcements',\r\n\t\t\t\t'orangered',\r\n\t\t\t\t'onboarding',\r\n\t\t\t\t'selectedEntry',\r\n\t\t\t\t'showImages',\r\n\t\t\t\t'submitHelper',\r\n\t\t\t\t'neverEndingReddit',\r\n\t\t\t\t'accountSwitcher',\r\n\t\t\t\t'filteReddit',\r\n\t\t\t\t'quickMessage',\r\n\t\t\t\t'subredditInfo',\r\n\t\t\t\t'userInfo',\r\n\t\t\t\t'userHighlight',\r\n\t\t\t\t'searchHelper',\r\n\t\t\t\t'betteReddit',\r\n\t\t\t\t'styleTweaks',\r\n\t\t\t\t'pageNavigator',\r\n\t\t\t\t'commandLine',\r\n\t\t\t\t'commentHidePersistor',\r\n\t\t\t\t'commentTools',\r\n\t\t\t\t'commentPreview',\r\n\t\t\t\t'localDate',\r\n\t\t\t\t'noParticipation',\r\n\t\t\t], '*');\r\n\t\t}\r\n\t};\r\n\r\n\tmodule.options.cleanSlate = {\r\n\t\tdescription: 'Turn off all the RES modules',\r\n\t\ttype: 'button',\r\n\t\ttext: 'apply preset',\r\n\t\tcallback: function() {\r\n\t\t\tmodules['notifications'].showNotification({\r\n\t\t\t\tmoduleID: moduleID,\r\n\t\t\t\toptionKey: 'cleanSlate',\r\n\t\t\t\tmessage: 'Turned off all RES modules! Reload to see the result.'\r\n\t\t\t});\r\n\t\t\ttoggleModules(undefined, '*');\r\n\t\t}\r\n\t};\r\n\r\n\tmodule.options.noPopups = {\r\n\t\tdescription: 'Turn off notifications and hover pop-ups',\r\n\t\ttype: 'button',\r\n\t\ttext: 'apply preset',\r\n\t\tcallback: function() {\r\n\t\t\tmodules['notifications'].showNotification({\r\n\t\t\t\tmoduleID: moduleID,\r\n\t\t\t\toptionKey: 'noPopups',\r\n\t\t\t\tmessage: 'Turned off pop-ups! Reload to see the result.'\r\n\t\t\t});\r\n\t\t\ttoggleModules(undefined, 'hover RESTips showParent subredditInfo '.split(/[,\\s]/));\r\n\t\t\ttoggleOptions(undefined, 'userTagger.hoverInfo'.split(/[,\\s]/));\r\n\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tfunction sanitizeModulesList(unsanitized) {\r\n\t\tvar sanitized;\r\n\t\tif (unsanitized === '*') {\r\n\t\t\tsanitized = allModules();\r\n\t\t} else if (typeof unsanitized === 'string') {\r\n\t\t\tsanitized = unsanitized.split(/[,\\s]/);\r\n\t\t} else if (unsanitized && unsanitized.length) {\r\n\t\t\tsanitized = unsanitized;\r\n\t\t}\r\n\t\tsanitized = sanitized ? [].concat(sanitized) : [];\r\n\r\n\t\treturn sanitized;\r\n\t}\r\n\r\n\tfunction toggleModules(requestEnable, requestDisable) {\r\n\t\tvar enable, disable;\r\n\t\tenable = sanitizeModulesList(requestEnable);\r\n\t\tdisable = sanitizeModulesList(requestDisable);\r\n\r\n\t\tdisable = requestEnable !== '*' ?\r\n\t\t\tdisable.filter(function(moduleID) {\r\n\t\t\t\treturn enable.indexOf(moduleID) === -1;\r\n\t\t\t}) :\r\n\t\t\tdisable;\r\n\r\n\t\tenable = requestDisable !== '*' ?\r\n\t\t\tenable.filter(function(moduleID) {\r\n\t\t\t\treturn disable.indexOf(moduleID) === -1;\r\n\t\t\t}) :\r\n\t\t\tenable;\r\n\r\n\t\tdisable.forEach(function(moduleID) {\r\n\t\t\tRESUtils.options.enableModule(moduleID, false);\r\n\t\t});\r\n\t\tenable.forEach(function(moduleID) {\r\n\t\t\tRESUtils.options.enableModule(moduleID, true);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction allModules() {\r\n\t\treturn Object.getOwnPropertyNames(modules);\r\n\t}\r\n\r\n\tfunction toggleOptions(requestEnable, requestDisable) {\r\n\t\tvar enable, disable;\r\n\t\tenable = requestEnable ? [].concat(requestEnable) : [];\r\n\t\tdisable = requestDisable ? [].concat(requestDisable) : [];\r\n\r\n\t\tenable.forEach(setOptionValue.bind(this, true));\r\n\t\tdisable.forEach(setOptionValue.bind(this, false));\r\n\t}\r\n\r\n\tfunction setOptionValue(value, path) {\r\n\t\t// path = [moduleID, optionName] or 'moduleID.optionName'\r\n\t\tif (typeof path === 'string') {\r\n\t\t\tpath = path.split('.');\r\n\t\t}\r\n\t\tRESUtils.options.setOption.apply(RESUtils.options, [].concat(path).concat(value));\r\n\t}\r\n});\r\n"],"sourceRoot":"/source/"}