{"version":3,"sources":["modules/hosts/fiveHundredPx.js"],"names":[],"mappings":";;;;;;;;;;AAQA,WAAW,YAAX,EAAyB,eAAzB,EAA0C;AACzC,UAAS,CAAE,WAAF,EAAe,WAAf,EAA4B,WAA5B,CAAT;AACA,QAAO,oEAAP;AACA,SAAQ,gBAAS,IAAT,EAAe,IAAf,EAAqB;AAC5B,SAAO,KAAK,KAAL,CAAW,IAAX,CAAgB,IAAhB,CAAP,CAD4B;EAArB;AAGR,aAAY,oBAAS,IAAT,EAAe;AAC1B,MAAI,MAAM,EAAE,QAAF,EAAN;MACH,UAAU,QAAQ,YAAR,EAAsB,WAAtB,CAAkC,eAAlC,CAAV;MACA,UAAU,KAAK,IAAL,CAAU,KAAV,CAAgB,QAAQ,KAAR,CAA1B,CAHyB;AAI1B,MAAI,OAAJ,EAAa;AACZ,OAAI,OAAJ,CAAY,IAAZ,EAAkB,QAAQ,CAAR,CAAlB,EADY;GAAb,MAEO;AACN,OAAI,MAAJ,GADM;GAFP;AAKA,SAAO,IAAI,OAAJ,EAAP,CAT0B;EAAf;AAWZ,aAAY,oBAAS,IAAT,EAAe,OAAf,EAAwB;AACnC,OAAK,IAAL,GAAY,OAAZ,CADmC;AAEnC,OAAK,GAAL,GAAW,KAAK,IAAL,CAAU,OAAV,CAAkB,gBAAlB,EAAoC,QAApC,CAAX,CAFmC;AAGnC,OAAK,OAAL,GAAe,mEAAmE,SAAS,YAAT,CAAsB,OAAtB,CAAnE,GAAoG,iBAApG,CAHoB;AAInC,SAAO,EAAE,QAAF,GAAa,OAAb,CAAqB,IAArB,EAA2B,OAA3B,EAAP,CAJmC;EAAxB;CAjBb","file":"modules/hosts/fiveHundredPx.js","sourcesContent":["/**\r\n *\r\n * It's worth commenting here that this is essentially \"reverse\" support. There is\r\n * no support for inline expansion of 500px.com links in RES. This module \"gives back\r\n * credit\" to 500px.com authors when someone posts their image directly, by figuring\r\n * out the original 500px.com link and adding a caption / link to 500px.com\r\n *\r\n */\r\naddLibrary('mediaHosts', 'fiveHundredPx', {\r\n\tdomains: [ '500px.org', '500px.net', '500px.com' ],\r\n\tregex: /^https?:\\/\\/\\w*cdn\\.500px\\.(?:net|com|org)\\/(?:photo\\/)?([0-9]+)\\//,\r\n\tdetect: function(href, elem) {\r\n\t\treturn this.regex.test(href);\r\n\t},\r\n\thandleLink: function(elem) {\r\n\t\tvar def = $.Deferred(),\r\n\t\t\tsiteMod = modules['showImages'].siteModules['fiveHundredPx'],\r\n\t\t\tphotoId = elem.href.match(siteMod.regex);\r\n\t\tif (photoId) {\r\n\t\t\tdef.resolve(elem, photoId[1]);\r\n\t\t} else {\r\n\t\t\tdef.reject();\r\n\t\t}\r\n\t\treturn def.promise();\r\n\t},\r\n\thandleInfo: function(elem, photoId) {\r\n\t\telem.type = 'IMAGE';\r\n\t\telem.src = elem.href.replace(/\\/[0-9]+\\.jpg$/, '/5.jpg');\r\n\t\telem.credits = 'View original and details at: <a href=\"http://500px.com/photo/' + RESUtils.sanitizeHTML(photoId) + '\">500px.com</a>';\r\n\t\treturn $.Deferred().resolve(elem).promise();\r\n\t}\r\n});\r\n"],"sourceRoot":"/source/"}