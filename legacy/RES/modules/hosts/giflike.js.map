{"version":3,"sources":["modules/hosts/giflike.js"],"names":[],"mappings":";;AAAA,WAAW,YAAX,EAAyB,SAAzB,EAAoC;AACnC,UAAS,CAAC,aAAD,CAAT;AACA,cAAa,+DAAb;AACA,SAAQ,gBAAS,IAAT,EAAe,IAAf,EAAqB;AAC5B,MAAI,UAAU,QAAQ,YAAR,EAAsB,WAAtB,CAAkC,SAAlC,CAAV,CADwB;AAE5B,SAAO,QAAQ,WAAR,CAAoB,IAApB,CAAyB,IAAzB,CAAP,CAF4B;EAArB;AAIR,aAAY,oBAAS,IAAT,EAAe;AAC1B,MAAI,MAAM,EAAE,QAAF,EAAN,CADsB;AAE1B,MAAI,UAAU,QAAQ,YAAR,EAAsB,WAAtB,CAAkC,SAAlC,CAAV,CAFsB;AAG1B,MAAI,SAAS,QAAQ,WAAR,CAAoB,IAApB,CAAyB,KAAK,IAAL,CAAlC,CAHsB;AAI1B,MAAI,MAAJ,EAAY;AACX,OAAI,OAAJ,CAAY,IAAZ,EAAkB;AACjB,aAAS,OAAO,CAAP,CAAT;IADD,EADW;GAAZ,MAIO;AACN,OAAI,MAAJ,GADM;GAJP;AAOA,SAAO,IAAI,OAAJ,EAAP,CAX0B;EAAf;AAaZ,aAAY,oBAAS,IAAT,EAAe,IAAf,EAAqB;AAChC,OAAK,cAAL,GAAsB;AACrB,aAAU,IAAV;AACA,SAAM,IAAN;AAFqB,GAAtB,CADgC;;AAMhC,MAAI,UAAU,CAAC;AACd,WAAQ,0BAA0B,KAAK,OAAL,GAAe,OAAzC;AACR,WAAQ,YAAR;GAFa,EAGX;AACF,WAAQ,0BAA0B,KAAK,OAAL,GAAe,MAAzC;AACR,WAAQ,WAAR;GALa,EAMX;AACF,WAAQ,0BAA0B,KAAK,OAAL,GAAe,MAAzC;AACR,WAAQ,WAAR;GARa,CAAV,CAN4B;;AAiBhC,OAAK,IAAL,GAAY,OAAZ,CAjBgC;AAkBhC,IAAE,IAAF,EAAQ,IAAR,CAAa,SAAb,EAAwB,OAAxB,EAlBgC;AAmBhC,MAAI,SAAS,QAAT,OAAwB,UAAxB,EAAoC;AACvC,KAAE,IAAF,EAAQ,OAAR,CAAgB,QAAhB,EAA0B,IAA1B,CAA+B,YAA/B,EAA6C,IAA7C,CAAkD,MAAlD,EAA0D,KAAK,IAAL,CAA1D,CADuC;GAAxC;AAGA,SAAO,EAAE,QAAF,GAAa,OAAb,CAAqB,IAArB,EAA2B,OAA3B,EAAP,CAtBgC;EAArB;CApBb","file":"modules/hosts/giflike.js","sourcesContent":["addLibrary('mediaHosts', 'giflike', {\r\n\tdomains: ['giflike.com'],\r\n\tacceptRegex: /^https?:\\/\\/(?:\\w+\\.)?giflike\\.com\\/(?:a\\/)?(\\w{7})(?:\\/.*)?/i,\r\n\tdetect: function(href, elem) {\r\n\t\tvar siteMod = modules['showImages'].siteModules['giflike'];\r\n\t\treturn siteMod.acceptRegex.test(href);\r\n\t},\r\n\thandleLink: function(elem) {\r\n\t\tvar def = $.Deferred();\r\n\t\tvar siteMod = modules['showImages'].siteModules['giflike'];\r\n\t\tvar groups = siteMod.acceptRegex.exec(elem.href);\r\n\t\tif (groups) {\r\n\t\t\tdef.resolve(elem, {\r\n\t\t\t\tvideoId: groups[1]\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tdef.reject();\r\n\t\t}\r\n\t\treturn def.promise();\r\n\t},\r\n\thandleInfo: function(elem, info) {\r\n\t\telem.expandoOptions = {\r\n\t\t\tautoplay: true, // Giflike only supports muted videos.\r\n\t\t\tloop: true // Loops since it's gif-like, short form.\r\n\t\t};\r\n\r\n\t\tvar sources = [{\r\n\t\t\t'file': 'http://i.giflike.com/' + info.videoId + '.webm',\r\n\t\t\t'type': 'video/webm'\r\n\t\t}, {\r\n\t\t\t'file': 'http://i.giflike.com/' + info.videoId + '.mp4',\r\n\t\t\t'type': 'video/mp4'\r\n\t\t}, {\r\n\t\t\t'file': 'http://i.giflike.com/' + info.videoId + '.gif',\r\n\t\t\t'type': 'image/gif'\r\n\t\t}];\r\n\r\n\t\telem.type = 'VIDEO';\r\n\t\t$(elem).data('sources', sources);\r\n\t\tif (RESUtils.pageType() === 'linklist') {\r\n\t\t\t$(elem).closest('.thing').find('.thumbnail').attr('href', elem.href);\r\n\t\t}\r\n\t\treturn $.Deferred().resolve(elem).promise();\r\n\t}\r\n});\r\n"],"sourceRoot":"/source/"}